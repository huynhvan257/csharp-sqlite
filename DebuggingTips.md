# Debugging Tips #
## Error: database disk image is malformed ##
This is generated by a SQLITE\_CORRUPT return code;

Restart with the SQLITE\_DEBUG compiler option and put a breakpoint in sqliteInt\_h.cs.  This will be on the call stack just after the error.

Search for the following lines, and put a breakpoint on the return statement

```
   /*
    ** The SQLITE_CORRUPT_BKPT macro can be either a constant (for production
    ** builds) or a function call (for debugging).  If it is a function call,
    ** it allows the operator to set a breakpoint at the spot where database
    ** corruption is first detected.
    */
#if SQLITE_DEBUG
    static int SQLITE_CORRUPT_BKPT()
    {
      return sqlite3Corrupt();
    }
```